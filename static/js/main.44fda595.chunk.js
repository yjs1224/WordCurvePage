(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{301:function(e,t,a){e.exports=a.p+"static/media/ngnlab.54d614c6.png"},304:function(e,t,a){e.exports=a(687)},323:function(e,t){},687:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(7),i=a.n(o),s=a(40),l=a(41),c=a(44),h=a(42),u=a(45),d=(a(309),a(299)),m=(a(311),a(302)),p=(a(293),a(91)),f=a(135),v=a.n(f),y=a(294),g=a.n(y),C="https://101.6.69.26:5003";function b(e){var t;return t=e.startsWith("//")||e.startsWith("http")?e:C+e,t+="?time="+(new Date).getTime()}function O(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g()({url:b(e),type:"json",method:"get",data:a,contentType:"application/json",success:t})}var w=p.a.Option,k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={candidates:[],fetching:!1,words:[]},a.fetchCandidateWord=function(e){a.setState({candidates:[],fetching:!0}),function(e,t){O("/getCandidate",t,{query:e})}(e,(function(e){a.setState({candidates:e,fetching:!1}),0===e.length&&m.a.info("No Such Word")}))},a.handleChange=function(e){a.setState({candidates:[],fetching:!1,words:e}),a.props.updateCurve(e)},a.fetchCandidateWord=v()(a.fetchCandidateWord,800),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.fetching,a=e.candidates,n=e.words;return r.a.createElement(p.a,{mode:"multiple",value:n,placeholder:"Search to select words to display",notFoundContent:t?r.a.createElement(d.a,{size:"small"}):null,filterOption:!1,onSearch:this.fetchCandidateWord,onChange:this.handleChange,style:{width:"100%"}},a.map((function(e){return r.a.createElement(w,{key:e},e)})))}}]),t}(n.Component),j=a(300),E=a.n(j),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).getOption=function(e,t){var a=Object.keys(e),n=a.map((function(t){return{data:e[t],type:"line",name:t,smooth:!0,showSymbol:!1,itemStyle:{emphasis:{borderWidth:10}}}}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!1,formatter:function(e){0===e.seriesData.length&&(window.mouseCurValue=e.value)}}},formatter:function(e){for(var t="",a=100,n=0,r=0;r<e.length;r++){var o=e[r],i=Number(o.data)-window.mouseCurValue>0?Number(o.data)-window.mouseCurValue:window.mouseCurValue-Number(o.data);a>i&&(a=i,n=r)}var s=e[n];if(t=s.axisValue+"<br/>"+s.marker+s.seriesName+":"+s.data+"<br/>",a>.5){t="",t+=e[0].axisValue;for(var l=0;l<e.length;l++){var c=e[l];t+="<br/>"+c.marker+c.seriesName+":"+c.data}}return t}},title:{text:"Curve of "+a.join(", ")},xAxis:{type:"category",data:t,name:"Year",boundarygap:!1},yAxis:{type:"value",name:"similarity"},legend:{data:a},series:n,toolbox:{orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},dataZoom:[{show:!0},{type:"inside"}]}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{key:Object.keys(this.props.values).join(","),option:this.getOption(this.props.values,this.props.years),style:{height:"500px",width:"90%",marginLeft:"5%"}})}}]),t}(n.Component);S.defaultProps={values:{testWord1:[.1,.1,.2,.5,.7,.6,.5,.3,.3],testWord2:[.2,.3,.8,.7,.5,.1,.1,.1,.1]},years:[2015,2016,2017,2018,2019,2020,2021,2022,2023]};var x=a(301),W=a.n(x),Y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{verticalAlign:"middle",width:"100%",textAlign:"center"}},r.a.createElement("a",{href:"http://ngnlab.cn/",style:{display:"inline-block"}},r.a.createElement("img",{src:W.a,alt:"LOGO",style:{verticalAlign:"middle",height:"50px",paddingBottom:"15px",width:"70px"}})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement("div",{style:{fontFamily:"verdana",fontSize:"30px",color:"#6C59B8",display:"inline-block"}},"Word Curve"))}}]),t}(n.Component),A=(a(683),a(192)),L=(a(685),a(191)),V=p.a.Option,B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={startyear:1801,lastyear:2008,smoothyears:1},a.handleStartYearChange=function(e){a.setState({startyear:e})},a.handleLastYearChange=function(e){a.setState({lastyear:e})},a.handleSmoothYearsChange=function(e){a.setState({smoothyears:parseInt(e)})},a.handleClick=function(e){a.props.updateOption([a.state.startyear,a.state.lastyear,a.state.smoothyears])},a.handleStartYearChangeBetter=function(e){a.handleStartYearChange(e),a.handleClick()},a.handleLastYearChangeBetter=function(e){a.handleLastYearChange(e),a.handleClick()},a.handleSmoothYearsChangeBetter=function(e){a.handleSmoothYearsChange(),a.handleClick()},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginLeft:"20%"}},"from\xa0",r.a.createElement(L.a,{min:1801,max:2008,defaultValue:1801,onChange:this.handleStartYearChange,onPressEnter:this.handleClick}),"\xa0to\xa0",r.a.createElement(L.a,{min:1801,max:2008,defaultValue:2008,onChange:this.handleLastYearChange,onPressEnter:this.handleClick}),"\xa0with smoothing of\xa0",r.a.createElement(p.a,{defaultValue:"1",style:{width:80},onChange:this.handleSmoothYearsChange,onPressEnter:this.handleClick,disabled:!0},r.a.createElement(V,{value:"1"},"1"),r.a.createElement(V,{value:"2"},"2"),r.a.createElement(V,{value:"3"},"3"),r.a.createElement(V,{value:"4"},"4"),r.a.createElement(V,{value:"5"},"5"),r.a.createElement(V,{value:"10"},"10")),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(A.a,{type:"default",onClick:this.handleClick},"search lots of words"),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(A.a,{onClick:this.props.handleClick},"Download Data"))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={values:{},years:[],curveoptions:[1801,2008,1]},a.updateCurve=function(e){!function(e,t){O("/getCurve",t,{words:e})}(e,(function(e){a.setState({values:e.values||{},years:e.years||[]})}))},a.updateOption=function(e){a.setState({curveoptions:e}),console.log(e,a.state.curveoptions)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){var e=document.createElement("a");e.download="curves_of_all_words",e.style.display="none";for(var t=Object.keys(this.state.values),a=[],n=0;n<t.length;n++)a[2*n]=t[n]+": ",a[2*n+1]=this.state.values[t[n]]+"\n";a[2*t.length]="years: "+this.state.years;var r=new Blob(a);e.href=URL.createObjectURL(r),document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"render",value:function(){for(var e=this.state,t=e.values,a=e.years,n=Object.keys(t),o={},i=[],s=this.state.curveoptions[0]-1801,l=this.state.curveoptions[1]-2008+2008-1801,c=this.state.curveoptions[2],h=0;h<n.length;h++){var u=[],d=0;for(d=s;d<=l;d+=c)u[(d-s)/c]=t[n[h]][d];o[n[h]]=u}var m=0;for(m=s;m<=l;m+=c)i[(m-s)/c]=a[m];return 0!==n.length&&(t=o,a=i),r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement(k,{updateCurve:this.updateCurve.bind(this)}),r.a.createElement(B,{updateOption:this.updateOption.bind(this),handleClick:this.handleClick.bind(this)}," "),r.a.createElement(S,{values:t,years:a}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[304,1,2]]]);
//# sourceMappingURL=main.44fda595.chunk.js.map